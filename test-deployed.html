<!DOCTYPE html>
<html>
<head>
    <title>Test Deployed Constellation</title>
    <style>
        iframe { width: 100%; height: 500px; border: 2px solid #333; }
        .status { padding: 10px; margin: 10px 0; font-family: monospace; }
        .loading { background: #ffff00; color: #000; }
        .loaded { background: #00ff00; color: #000; }
        .error { background: #ff0000; color: #fff; }
    </style>
</head>
<body>
    <h1>Testing Deployed Constellation</h1>
    
    <div class="status loading" id="status">Loading deployed page...</div>
    
    <iframe id="deployedPage" src="https://aiagenttesting14-design.github.io/thinking-with/"></iframe>
    
    <script>
        const iframe = document.getElementById('deployedPage');
        const status = document.getElementById('status');
        
        iframe.onload = function() {
            status.className = 'status loaded';
            status.textContent = 'Page loaded successfully';
            
            try {
                // Try to access the iframe's canvas
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                const canvas = iframeDoc.getElementById('constellation-canvas');
                
                if (canvas) {
                    status.textContent += ' - Canvas found!';
                    console.log('Canvas found in iframe:', canvas);
                    
                    // Check if animation is running
                    const ctx = canvas.getContext('2d');
                    if (ctx) {
                        status.textContent += ' - Canvas context available';
                    }
                } else {
                    status.textContent += ' - Canvas NOT found';
                }
            } catch (e) {
                status.className = 'status error';
                status.textContent = 'Cross-origin error: ' + e.message;
            }
        };
        
        iframe.onerror = function() {
            status.className = 'status error';
            status.textContent = 'Failed to load page';
        };
        
        // Timeout after 10 seconds
        setTimeout(() => {
            if (status.className === 'status loading') {
                status.className = 'status error';
                status.textContent = 'Timeout loading page';
            }
        }, 10000);
    </script>
</body>
</html>
